<script>
let currentPage = 1;
const itemsPerPage = 4;
let productsData = [];

fetch("json/data.json")
  .then(res => res.json())
  .then(data => {
    productsData = data;
    renderCurrentPage();
    renderPaginationButtons();
  })
  .catch(err => console.error("Error loading JSON:", err));

function renderCurrentPage() {
  const startIndex = (currentPage - 1) * itemsPerPage;
  const endIndex = startIndex + itemsPerPage;
  const currentItems = productsData.slice(startIndex, endIndex);

  renderCards(currentItems, "cardSection");
}

function renderCards(plants, containerId) {
  const container = document.getElementById(containerId);
  container.innerHTML = "";

  plants.forEach(product => {
    container.innerHTML += `
      <div class="card" style="width: 18rem;">
        <img src="${product.img}" class="card-img-top" alt="${product.name}">
        <div class="card-body">
          <h5 class="card-title">${product.name}</h5>
          <p class="card-text">â‚¹${product.price}</p>
          <button class="card-button">Add to Basket</button>
        </div>
      </div>
    `;
  });
}

function renderPaginationButtons() {
  const pagination = document.getElementById("pagination");
  pagination.innerHTML = "";

  const totalPages = Math.ceil(productsData.length / itemsPerPage);

  for (let i = 1; i <= totalPages; i++) {
    const btn = document.createElement("button");
    btn.textContent = i;
    btn.classList.add("page-btn");
    if (i === currentPage) {
      btn.classList.add("active");
    }
    btn.addEventListener("click", () => {
      currentPage = i;
      renderCurrentPage();
      renderPaginationButtons();
    });
    pagination.appendChild(btn);
  }
}
</script>

<img src="images/Care kit.jpg" alt="">